(()=>{"use strict";var t=[{name:"camera",url:"http://localhost:3000/api/cameras",optionsLabel:"Lentilles"},{name:"teddy",url:"http://localhost:3000/api/teddies",optionsLabel:"Couleurs"},{name:"furniture",url:"http://localhost:3000/api/furniture",optionsLabel:"Vernis"}];function e(t,e){t=""+t,e=e||" ";for(var n="",o=0;t.match(/^0[0-9]/);)t=t.substr(1);for(var r=t.length-1;r>=0;r--)n=0!=o&&o%3==0?t[r]+e+n:t[r]+n,o++;return n}function n(t){var e=document.createElement("option");e.textContent="Choisissez une option",t.appendChild(e)}function o(t,e){for(var n in t){var o=document.createElement("option");o.textContent=t[n],e.appendChild(o)}}var r=function(){var t=[{name:"camera",url:"http://localhost:3000/api/cameras",optionsLabel:"Lentilles"},{name:"teddy",url:"http://localhost:3000/api/teddies",optionsLabel:"Couleurs"},{name:"furniture",url:"http://localhost:3000/api/furniture",optionsLabel:"Vernis"}],e=[],n=function t(e,n,o,r,i,a,l,s,c){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.name=e,this.id=n,this.imageUrl=o,this.description=r,this.price=i,this.options=a,this.optionsLabel=l,this.category=s,this.urlCategory=c},o=function(o){var r=t[o].name;fetch(t[o].url).then((function(t){if(t.ok)return t.json()})).then((function(o){for(var i in o){var a=new n(o[i].name,o[i]._id,o[i].imageUrl,o[i].description,o[i].price,"","","","");r==t[0].name&&(a.options=o[i].lenses,a.optionsLabel=t[0].optionsLabel,a.category=t[0].name,a.urlCategory=t[0].url),r==t[1].name&&(a.options=o[i].colors,a.optionsLabel=t[1].optionsLabel,a.category=t[1].name,a.urlCategory=t[1].url),r==t[2].name&&(a.options=o[i].varnish,a.optionsLabel=t[2].optionsLabel,a.category=t[2].name,a.urlCategory=t[2].url),console.log(a),e.push(a)}}))};for(var r in t)o(r);return console.log(e),console.log(e[0]),console.log(t),e}();console.log(r),function(r){var i=document.getElementById("productPicture"),a=document.getElementById("productName"),l=document.getElementById("productID"),s=document.getElementById("productOptionsLabel"),c=document.getElementById("productOptions"),u=document.getElementById("productPrice"),p=document.getElementById("productDescription");for(var m in t)fetch(t[m].url).then((function(t){if(t.ok)return t.json()})).then((function(t){for(var r in console.log(t),t)"5be1ef211c9d44000030b062"==t[r]._id&&(i.src=t[r].imageUrl,i.alt=t[r].name,a.textContent=t[r].name,l.innerHTML=t[r]._id,u.textContent=e(t[r].price),u.textContent+=" â‚¬",p.textContent=t[r].description,null!=t[r].lenses&&(s.textContent="Lentilles",n(c),o(t[r].lenses,c)),null!=t[r].colors&&(s.textContent="Couleurs",n(c),o(t[r].colors,c)),null!=t[r].varnish&&(s.textContent="Vernis",n(c),o(t[r].varnish,c)))}))}()})();